"use strict";const e=require("../common/vendor.js");exports.request=t=>{t.url=t.url||"",t.method=t.method||"GET",t.data=t.data||{},t.header=t.header||{"Content-Type":"application/json"},t.loading=!1!==t.loading,t.requestTime=t.requestTime||1e3;let a=!0;return setTimeout((()=>{a&&t.loading&&e.index.showLoading({title:"加载中",mask:!0})}),t.requestTime),new Promise(((d,i)=>{e.index.request({url:"http://192.168.5.4:8121/api/"+t.url,method:t.method,data:t.data,withCredentials:!0,header:{...t.header},success:e=>{d(e)},fail:e=>{i(e)},complete:()=>{a&&t.loading&&e.index.hideLoading(),a=!1}})}))};
